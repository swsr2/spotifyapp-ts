"use strict";(self.webpackChunkspotify_demo=self.webpackChunkspotify_demo||[]).push([[264],{7:(e,r,s)=>{s.d(r,{A:()=>o});var a=s(2142),t=s(2454),n=s(5124),i=(s(6540),s(4848));const o=e=>{let{errorMessage:r}=e;return(0,i.jsxs)(a.A,{severity:"error",children:[(0,i.jsx)(t.A,{children:"Error"}),(0,i.jsx)(n.A,{variant:"body1",children:r})]})}},424:(e,r,s)=>{s.d(r,{A:()=>n});var a=s(7286),t=s(4871);const n=()=>{const{data:e}=(0,a.I)({queryKey:["client-credential-token"],queryFn:t.M}),r=e?.access_token;return r}},2704:(e,r,s)=>{s.d(r,{BI:()=>i,Q7:()=>o});var a=s(1083),t=s(5800),n=s(2229);const i=async e=>{try{return(await a.A.get(`${t.sH}/browse/new-releases?limit=12`,{headers:{Authorization:`Bearer ${e}`}})).data}catch(e){throw new Error("fail to fetch new releases")}},o=async(e,r)=>{try{return(await n.A.get(`${t.sH}/albums`,{params:{ids:e.join(",")},headers:{Authorization:`Bearer ${r}`}})).data}catch(e){throw console.error("getAlbumsByIds API Error:",e.response?.data||e.message),new Error("Failed to fetch albums by ids")}}},3122:(e,r,s)=>{s.d(r,{A:()=>i});var a=s(6739),t=(s(6540),s(4848));const n=(0,a.Ay)("button")((e=>{let{theme:r}=e;return{backgroundColor:r.palette.primary.main,border:"none",borderRadius:"50%",width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"rgba(0, 0, 0, 0.3) 0px 8px 8px 0px","&:focus":{outline:"none"}}})),i=()=>(0,t.jsx)(n,{children:(0,t.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M8 5v14l11-7z",fill:"black"})})})},4292:(e,r,s)=>{s.d(r,{A:()=>t});var a=s(6540);function t(e,r){return a.isValidElement(e)&&-1!==r.indexOf(e.type.muiName??e.type?._payload?.value?.muiName)}},6709:(e,r,s)=>{s.r(r),s.d(r,{default:()=>B});var a=s(6540),t=s(5124),n=s(7286),i=s(2704),o=s(424);const l=()=>{const e=(0,o.A)();return(0,n.I)({queryKey:["new-Releases"],queryFn:async()=>{if(!e)throw new Error("no token available");return await(0,i.BI)(e)},enabled:!!e})};var d=s(7),c=s(1217),m=s(6739),u=s(6858),p=s(2412),h=s(4164),x=s(1362),g=s(3202),A=s(6148),j=s(1908);function y(e){return(0,j.Ay)("MuiCardMedia",e)}(0,A.A)("MuiCardMedia",["root","media","img"]);var v=s(4848);const b=(0,m.Ay)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:s}=e,{isMediaComponent:a,isImageComponent:t}=s;return[r.root,a&&r.media,t&&r.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),w=["video","audio","picture","iframe","img"],f=["picture","img"],k=a.forwardRef((function(e,r){const s=(0,g.b)({props:e,name:"MuiCardMedia"}),{children:a,className:t,component:n="div",image:i,src:o,style:l,...d}=s,c=w.includes(n),m=!c&&i?{backgroundImage:`url("${i}")`,...l}:l,u={...s,component:n,isMediaComponent:c,isImageComponent:f.includes(n)},p=(e=>{const{classes:r,isMediaComponent:s,isImageComponent:a}=e,t={root:["root",s&&"media",a&&"img"]};return(0,x.A)(t,y,r)})(u);return(0,v.jsx)(b,{className:(0,h.A)(p.root,t),as:n,role:!c&&i?"img":void 0,ref:r,style:m,ownerState:u,src:c?i||o:void 0,...d,children:a})}));var C=s(3122);const M=(0,m.Ay)(u.A)({position:"relative","&:hover .play-button":{opacity:1,transform:"translateY(-10px)"}}),I=(0,m.Ay)(u.A)({position:"absolute",right:8,bottom:"0",transform:"translateY(20%)",opacity:0,transition:"all 0.3s ease-in-out",zIndex:1}),N=e=>{let{image:r,name:s,artistName:a}=e;return(0,v.jsx)(M,{children:(0,v.jsxs)(p.A,{sx:{backgroundColor:"black",boxShadow:"none",marginTop:"10px",position:"relative"},children:[(0,v.jsxs)(u.A,{sx:{position:"relative"},children:[(0,v.jsx)(k,{component:"img",image:r,alt:s}),(0,v.jsx)(I,{className:"play-button",children:(0,v.jsx)(C.A,{})})]}),(0,v.jsx)(t.A,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",display:"block"},children:s}),(0,v.jsx)(t.A,{sx:{fontSize:"12px",color:"gray"},children:a})]})})},z=()=>{const{data:e,isLoading:r,error:s}=l();if(s)return(0,v.jsx)(d.A,{errorMessage:s.message});const a=e?.albums.items.slice(0,6);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(t.A,{variant:"h2",fontWeight:700,children:"New Released Albums"}),a&&a.length>0?(0,v.jsx)(c.A,{container:!0,spacing:2,children:a.map((e=>(0,v.jsx)(c.A,{size:{xs:6,sm:4,md:2},children:(0,v.jsx)(N,{image:e.images[0]?.url??"",name:e.name,artistName:e.artists.map((e=>e.name)).join(", ")})},e.id)))}):(0,v.jsx)(t.A,{})]})};var S=s(2587);const R=()=>{const{data:e,isLoading:r,error:s}=l();if(r)return(0,v.jsx)(S.A,{});if(s)return(0,v.jsx)(d.A,{errorMessage:s.message});const a=e?.albums.items.slice(6,12)??[];return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(t.A,{variant:"h2",fontWeight:700,marginTop:6,children:"Tracks"}),a.length>0?(0,v.jsx)(c.A,{container:!0,spacing:2,children:a.map((e=>(0,v.jsx)(c.A,{size:{xs:6,sm:4,md:2},children:(0,v.jsx)(N,{image:e.images[0]?.url??"",name:e.name,artistName:e.artists.map((e=>e.name)).join(", ")})},e.id)))}):(0,v.jsx)(t.A,{})]})},B=()=>(0,v.jsx)("div",{children:(0,v.jsxs)(a.Suspense,{fallback:(0,v.jsx)(S.A,{}),children:[(0,v.jsx)(z,{}),(0,v.jsx)(R,{})]})})}}]);
//# sourceMappingURL=264.js.map?ver=717b600d002a67c73f9d